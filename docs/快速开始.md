# 快速开始指南

## 🚀 立即开始

### 方法一: 使用启动脚本（推荐）

```bash
chmod +x start.sh
./start.sh
```

### 方法二: 手动启动

```bash
# 1. 安装依赖
npm install

# 2. 初始化数据库
npm run db:push
npm run db:seed

# 3. 启动开发服务器
npm run dev
```

服务器将在 http://localhost:3000 启动

## 📱 开始游戏

### 创建房间
1. 打开浏览器访问 http://localhost:3000
2. 点击"创建新房间"
3. 输入你的昵称
4. 记下 6 位数房间号

### 加入房间
1. 在另一个浏览器窗口打开 http://localhost:3000
2. 点击"加入房间"
3. 输入房间号
4. 输入你的昵称（不能重复）

### 开始游戏
- 至少需要 3 名玩家
- 房主点击"开始游戏"按钮
- 每个玩家会看到自己的角色和词语

## 🎮 游戏流程

### 1. 角色揭示
- 卧底: 看到不同的词语（例如: 橘子）
- 平民: 看到相同的词语（例如: 橙子）

### 2. 描述阶段
- 玩家轮流描述自己的词语
- 每人 30 秒时间
- 不能直接说出词语本身

### 3. 投票阶段
- 所有玩家同时投票
- 15 秒时间选择
- 投票给你认为是卧底的人

### 4. 淘汰和继续
- 票数最高的玩家被淘汰
- 检查胜利条件:
  - 卧底被淘汰 → 平民获胜
  - 只剩 3 人且卧底存活 → 卧底获胜
- 否则继续下一回合

## ⚙️ 管理面板

访问管理面板管理词语对:

```
URL: http://localhost:3000/admin
默认密码: admin123
```

### 功能:
- 添加新词语对
- 编辑现有词语对
- 启用/禁用词语对
- 删除词语对

### 更改密码:
编辑 `.env` 文件:
```env
ADMIN_PASSWORD=你的新密码
```

## 📋 命令列表

```bash
npm run dev          # 启动开发服务器
npm run build        # 构建生产版本
npm run start        # 启动生产服务器
npm run db:push      # 推送数据库模式
npm run db:seed      # 填充初始数据
npm run db:studio    # 打开数据库管理界面
npm run lint         # 运行代码检查
```

## 🔍 测试清单

在开始游戏前，确保:

- ✅ 服务器成功启动（看到 "Ready on http://localhost:3000"）
- ✅ 能访问主页
- ✅ 能创建房间并获得房间号
- ✅ 能用房间号加入房间
- ✅ 至少 3 名玩家可以开始游戏

## ❓ 常见问题

### Q: 创建房间后没有房间号？
A: 等待 1-2 秒让数据加载完成。如果仍然没有，刷新页面重试。

### Q: 加入房间失败？
A: 检查:
- 房间号是否正确（6位数字）
- 昵称是否已被使用
- 房间是否已满（最多8人）
- 游戏是否已开始

### Q: Socket 连接失败？
A: 检查:
- 服务器是否正在运行
- 端口 3000 是否被占用
- `.env` 文件中的 `NEXT_PUBLIC_SOCKET_URL` 配置

### Q: 数据库错误？
A: 重新初始化:
```bash
rm prisma/dev.db
npm run db:push
npm run db:seed
```

## 🎯 游戏技巧

### 作为卧底:
- 认真听其他玩家的描述
- 给出模糊但合理的描述
- 避免暴露你的词语不同
- 混淆其他玩家的判断

### 作为平民:
- 分享明确的特征
- 但不要太明显（避免卧底学习）
- 注意谁的描述不太符合
- 观察谁在回避细节

## 📞 需要帮助？

查看详细文档:
- `README.md` - 项目概述
- `DEVELOPMENT.md` - 开发指南
- `DEPLOYMENT.md` - 部署指南
- `完成总结.md` - 完整功能列表

## 🎉 开始游戏!

一切就绪! 邀请朋友一起玩吧!

```bash
# 启动服务器
npm run dev

# 然后在浏览器打开
http://localhost:3000
```

祝你游戏愉快! 🎮✨
